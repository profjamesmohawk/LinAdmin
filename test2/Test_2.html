<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  	<link rel="stylesheet" href="../jbl_labs.css"> 
  	<title>
		COMP-10018: Test 2
	</title>
<script type="text/javascript">
 	function unhide(divID) {
 		var item = document.getElementById(divID);
 		if (item) {
 			item.className=(item.className=='hidden')?'unhidden':'hidden';
 		}
	}
 </script>
  
</head>

<body>
<h1>COMP-10018: Test 2</h1>
<ul>
<li>You have 60 minutes to complete this test.  </li>
<li>All work must be done in class on a <strong>freshly imported</strong> VM.  </li>
<li>The test is 100% open book including resources from the Internet.  </li>
<li>You may use scripts you have written yourself.  </li>
<li>The test is an individual effort.  </li>
<li>Communication with another person during the test is forbidden.  </li>
</ul>

<hr>
<h2>Grading:</h2>
<p class="description">
You will run a host info script on s01 and submit the output to Canvas.
</p>


<hr>
<h2>Part A: Setup</h2>
<p> <IMG src="../NFS/s01_s02.png" alt=""> </p>
<ol>
<li>Import <strong>clean, fresh</strong> copy of <strong>s01</strong></li>
<li>Clone s01 to create s02 </li>
<li>Update /etc/hosts on s01 and s02 </li>
<li>Use <a href="../test1/fresh_check.zip">fresh_check.sh</a> to verify that you are working with a freshly imported s01.
</li>
</ol>

<hr>
<h2>Part B: Backup (5 points)</h2>
<ol>
<li>Create a tar archive named <strong>/tmp/etc.tar</strong> on <strong>s01</strong> containing all files from the <strong>/etc</strong> directory tree.  </li>
<li>Create a cpio archive named <strong>/tmp/books.cpio</strong> containing the contents of <strong>/opt/Mohawk/books</strong></li>
<li>Create a tar archive named <strong>/tmp/foo.tar</strong> such that <span class=cmd>tar -tf /tmp/foo.tar</span> returns
<pre class="code">
opt/Mohawk/data/4_f.green
opt/Mohawk/books/ShelockHolmes.txt
</pre>
</li>
</ol>

<hr>
<div style="page-break-before: always">
<h2>Part C: NFS (5 points)</h2>
<p class="description">
In this section you will create an NFS share on s01 to be used by any user from s02.
</p>
<ol>
<li>The shared directory must be called <strong>/nfs/s02</strong> </li>
<li>Any user on s02 must appear as the user named <strong>s02user</strong> when accessing the share </li>
<li>Any user on s02 must appear to belong to the group  named <strong>s02user</strong> when accessing the share</li>
<li>All configuration changes must survive a reboot </li>
<li>The share must be mounted by s02 when you run the grading script </li>
<li>The share must contain at least one test file created by a user from s02 </li>
</ol>

<hr>
<h2>Part D: Logging (5 points) </h2>
<ol>
<li>Install and configure httpd to log to rsyslog with a facility of local5</li>
<li>Configure rsyslog to log all messages from httpd to /var/log/web.log</li>
<li>Configure rsyslog on s02 to forward authpriv messages to s01 </li>
<li>Generate messages to test your changes </li>
</ol>

<hr>
<h2>Part E: Grading</h2>
<p class="description">
Run the grading script contained in <a href="./host_info_t2.zip">host_info_t2.zip</a> and submit the output to Canvas.
</p>
<p class="description">
<strong>Note:</strong> The grading script requires the net-tools package.
</p>



</body>
</html>
